!function (s, e) { "use strict"; var i, t, a, o, c, l, n, h, d, r, p = { 0: "900", 1: "901", 2: "902", 3: "212", 4: "200", 5: "616", 6: "612", 7: "611", 8: "511", 9: "301", 10: "511", 11: "521", 12: "521", 13: "600", 14: "615", 15: "601", 16: "601", 17: "906", 18: "611", 19: "761", 20: "741", 21: "721", 22: "711", 23: "956", 24: "954", 25: "903", 26: "802", 27: "802", 28: "802", 29: "802", 30: "802", 31: "800", 32: "800", 33: "951", 34: "951", 35: "906", 36: "904", 37: "210", 38: "210", 39: "210", 40: "521", 41: "602", 42: "621", 43: "602", 44: "802", 45: "201", 46: "621", 47: "210", 3200: "951" }, w = function (s, i) { this.elem = s, this.$elem = e(s), this.options = i, this.responseData }; w.prototype = { defaults: { style: "style1", show_weekly: !0, country: "nome,ak", displayCityNameOnly: !0, show_weatherIcon: !0, show_detailed: !0, loading_animation: !0, show_weatherType: !0, temperature_metrics: "F", show_date: !0, theme_color: "color-default active", afterGenerated: function (s) { } }, init: function () { return this.config = e.extend({}, this.defaults, this.options), this.config.loading_animation && this.show_loading(), "C" === this.config.temperature_metrics ? (this.plugin_url = "https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20weather.forecast%20where%20woeid%20in%20(select%20woeid%20from%20geo.places(1)%20where%20text%3D%22" + this.config.country + "%22%20)%20and%20u%3D%22c%22&format=json&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys", console.log(this.plugin_url)) : (this.plugin_url = "https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20weather.forecast%20where%20woeid%20in%20(select%20woeid%20from%20geo.places(1)%20where%20text%3D%22" + this.config.country + "%22)&format=json&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys", console.log(this.plugin_url)), this.send_request(), this }, show_loading: function () { i = this, i.$elem.css({ position: "relative" }), t = '<div class="hw-loading"></div>', this.display(t) }, generate: function () { if (i = this, a = this.responseData, 0 === a.query.count) i.display('<div class="error-messages"><h2>Not found any information</h2></div>'); else switch (this.config.style) { case "style1": default: i.generate_style1(); break; case "style2": i.generate_style2(); break; case "style3": i.generate_style3(); break; case "style4": i.generate_style4(); break; case "style5": i.generate_style5(); break; case "style6": i.generate_style6() } void 0 !== this.config.afterGenerated && this.config.afterGenerated() }, display: function (s) { this.$elem.html(s) }, generate_style1: function (s) { a = this.responseData, o = a.query.results.channel, c = '<div class="weather-forecast oneday ' + this.config.theme_color + '"><div class="hw-weatherIcon">', this.config.show_detailed && (c += '<span class="fa fa-bars hw-details-icon"></span><div class="hw-more-details"><span class="fa fa-times hw-close-icon"></span><div class="hw-details-info-section"><p class="hw-today-date">' + o.item.forecast[0].date + '</p><div class="hw-detailed-info"><p class="hw-humidity">Humidity: <br/>' + o.atmosphere.humidity + '</p><p class="hw-wind-speed">Wind speed: <br/>' + o.wind.speed + " " + o.units.speed + "</p></div></div></div>"), this.config.show_date && (c += '<p class="hw-date">' + o.item.forecast[0].day + "</p>"), this.config.show_weatherType && (c += '<p class="hw-weatherType">' + o.item.condition.text + "</p>"), c += '<p class="hw-weatherDegree">' + o.item.condition.temp + "<sup>°</sup></p>", this.config.show_weatherIcon && (c += '<div class="hw-icon hw-icon' + p[o.item.forecast[0].code] + '"></div>'), c += '</div><div class="hw-infoWeather">', c += this.config.displayCityNameOnly ? '<h2 class="hw-location">' + o.location.city + "</h2>" : '<h2 class="hw-location" style="font-size:18px;margin-top:6%">' + o.location.country + "," + o.location.city + "," + o.location.region + "</h2>"; var e = "C" == this.config.temperature_metrics ? "&#176;C" : "&#176;F"; c += ' <p class="hw-temperature"><span class="hw-temp-min">' + o.item.forecast[0].low + '</span>-<span class="hw-temp-max">' + o.item.forecast[0].high + "</span><sup>" + e + "</sup></p></div> </div>", this.display(c) }, generate_style2: function (s) { a = this.responseData, o = a.query.results.channel; var e = "C" === this.config.temperature_metrics ? "&#176;C" : "&#176;F"; l = '<div class="weather-forecast oneday ' + this.config.theme_color + '"><div class="hw-weatherIcon">', this.config.show_detailed && (l += '<span class="fa fa-bars hw-details-icon"></span><div class="hw-more-details"><span class="fa fa-times hw-close-icon"></span><div class="hw-details-info-section"><p class="hw-today-date">' + o.item.forecast[0].date + '</p><div class="hw-detailed-info"><p class="hw-humidity">Humidity: <br/>' + o.atmosphere.humidity + '</p><p class="hw-wind-speed">Wind speed: <br/>' + o.wind.speed + " " + o.units.speed + "</p></div></div></div>"), l += this.config.displayCityNameOnly ? '<h2 class="hw-location">' + o.location.city + "</h2>" : '<h2 class="hw-location" style="font-size:18px">' + o.location.country + "," + o.location.city + "," + o.location.region + "</h2>", this.config.show_date && (l += '<p class="hw-date">' + o.item.forecast[0].day + "</p>"), this.config.show_weatherType && (l += '<p class="hw-weatherType">' + o.item.condition.text + "</p>"), this.config.show_weatherIcon && (l += '<div class="hw-icon hw-icon' + p[o.item.forecast[0].code] + '"></div>'), l += ' <span>Now</span><p class="hw-temperature-now">' + o.item.condition.temp + "<sup>°</sup></p>", l += ' </div><div class="hw-polygon-split"></div><div class="hw-infoWeather">', l += ' <span class="left">Today</span><p class="hw-overall-temperature"><span class="hw-temp-min">' + o.item.forecast[0].low + '</span>-<span class="hw-temp-max">' + o.item.forecast[0].high + "</span><sup>" + e + "</sup></p></div> </div>", this.display(l) }, generate_style3: function (s) { a = this.responseData, o = a.query.results.channel; try { "C" === this.config.temperature_metrics ? "&#176;C" : "&#176;F"; n = this.config.show_weekly ? '<div class="weather-forecast weekly ' + this.config.theme_color + '"><div class="hw-weatherIcon">' : '<div class="weather-forecast oneday ' + this.config.theme_color + '"><div class="hw-weatherIcon">', this.config.show_detailed && (n += '<span class="fa fa-bars hw-details-icon"></span><div class="hw-more-details"><span class="fa fa-times hw-close-icon"></span><div class="hw-details-info-section"><p class="hw-today-date">' + o.item.forecast[0].date + '</p><div class="hw-detailed-info"><p class="hw-humidity">Humidity: <br/>' + o.atmosphere.humidity + '</p><p class="hw-wind-speed">Wind speed: <br/>' + o.wind.speed + " " + o.units.speed + "</p></div></div></div>"), this.config.show_weatherIcon && (n += '<div class="hw-icon hw-icon' + p[o.item.forecast[0].code] + '"></div>'), n += '<ul class="hw-info"><li class="hw-temperature"><span>' + o.item.condition.temp + '<sup>°</sup></span></li><li class="hw-info-section">', this.config.show_weatherType && (n += '<p class="hw-weatherType">' + o.item.condition.text + "</p>"), n += this.config.displayCityNameOnly ? '<h2 class="hw-location">' + o.location.city + "</h2>" : '<h2 class="hw-location" style="font-size:18px">' + o.location.country + "," + o.location.city + "," + o.location.region + "</h2>", n += "</li>", this.config.show_date && (n += '<li class="hw-date"><span>' + o.item.forecast[0].day + "</span></li>"), n += "</ul></div>", this.config.show_weekly && (n += '<div class="hw-infoWeather"><ul class="hw-weeklyForecast"><li class="hw-day"><span>' + o.item.forecast[1].day + '</span><ul><li class="hw-weekDay-temperature">' + o.item.forecast[1].high + '<sup>°</sup></li></ul></li><li class="hw-day"><span>' + o.item.forecast[2].day + '</span><ul><li class="hw-weekDay-temperature">' + o.item.forecast[2].high + '<sup>°</sup></li></ul></li><li class="hw-day"><span>' + o.item.forecast[3].day + '</span><ul><li class="hw-weekDay-temperature">' + o.item.forecast[3].high + '<sup>°</sup></li></ul></li><li class="hw-day"><span>' + o.item.forecast[4].day + '</span><ul><li class="hw-weekDay-temperature">' + o.item.forecast[4].high + '<sup>°</sup></li></ul></li><li class="hw-day"><span>' + o.item.forecast[5].day + '</span><ul><li class="hw-weekDay-temperature">' + o.item.forecast[5].high + "<sup>°</sup></li></ul></li></ul> </div>"), n += "</div>", this.display(n) } catch (e) { } this.generate_style4() }, generate_style4: function (s) { a = this.responseData, o = a.query.results.channel; "C" === this.config.temperature_metrics ? "&#176;C" : "&#176;F"; h = this.config.show_weekly ? '<div class="weather-forecast weekly ' + this.config.theme_color + '"><div class="hw-weatherIcon" style="">' : '<div class="weather-forecast oneday ' + this.config.theme_color + '"><div class="hw-weatherIcon" style="width:100%">', this.config.show_detailed && (h += '<span class="fa fa-bars hw-details-icon"></span><div class="hw-more-details"><span class="fa fa-times hw-close-icon"></span><div class="hw-details-info-section"><p class="hw-today-date">' + o.item.forecast[0].date + '</p><div class="hw-detailed-info"><p class="hw-humidity">Humidity: <br/>' + o.atmosphere.humidity + '</p><p class="hw-wind-speed">Wind speed: <br/>' + o.wind.speed + " " + o.units.speed + "</p></div></div></div>"), this.config.show_weatherIcon && (h += '<div class="hw-icon hw-icon' + p[o.item.forecast[0].code] + '"></div>'), h += '<ul class="hw-info"><li class="hw-temperature"><span>' + o.item.condition.temp + '<sup>°</sup></span></li><li class="hw-info-section">', this.config.show_weatherType && (h += '<p class="hw-weatherType">' + o.item.condition.text + "</p>"), h += this.config.displayCityNameOnly ? '<h2 class="hw-location">' + o.location.city + "</h2>" : '<h2 class="hw-location" style="font-size:18px">' + o.location.country + "," + o.location.city + "," + o.location.region + "</h2>", h += "</li>", this.config.show_date && (h += '<li class="hw-date"><span>' + o.item.forecast[0].day + "</span></li>"), h += "</ul></div>", this.config.show_weekly && (h += '<div class="hw-infoWeather"><ul class="hw-weeklyForecast"><li class="hw-day"><span>' + o.item.forecast[1].day + '</span><ul><li class="hw-weekDay-temperature">' + o.item.forecast[1].high + '<sup>°</sup></li></ul></li><li class="hw-day"><span>' + o.item.forecast[2].day + '</span><ul><li class="hw-weekDay-temperature">' + o.item.forecast[2].high + '<sup>°</sup></li></ul></li><li class="hw-day"><span>' + o.item.forecast[3].day + '</span><ul><li class="hw-weekDay-temperature">' + o.item.forecast[3].high + '<sup>°</sup></li></ul></li><li class="hw-day"><span>' + o.item.forecast[4].day + '</span><ul><li class="hw-weekDay-temperature">' + o.item.forecast[4].high + "<sup>°</sup></li></ul></li></ul> </div>"), h += "</div>", this.display(h) }, generate_style5: function (s) { a = this.responseData, o = a.query.results.channel, d = '<div class="weather-forecast oneday ' + this.config.theme_color + '"><div class="hw-weatherIcon">', this.config.show_detailed && (d += '<span class="fa fa-bars hw-details-icon"></span><div class="hw-more-details"><span class="fa fa-times hw-close-icon"></span><div class="hw-details-info-section"><p class="hw-today-date">' + o.item.forecast[0].date + '</p><div class="hw-detailed-info"><p class="hw-humidity">Humidity: <br/>' + o.atmosphere.humidity + '</p><p class="hw-wind-speed">Wind speed: <br/>' + o.wind.speed + " " + o.units.speed + "</p></div></div></div>"), this.config.show_date && (d += '<p class="hw-date">' + o.item.forecast[0].day + "</p>"), this.config.show_weatherType && (d += '<p class="hw-weatherType">' + o.item.condition.text + "</p>"), this.config.show_weatherIcon && (d += '<div class="hw-icon-section"><div class="hw-icon hw-icon' + p[o.item.forecast[0].code] + '"></div></div>'), d += '<p class="hw-temperature">' + o.item.condition.temp + "<sup>°</sup></p>", d += this.config.displayCityNameOnly ? '<h2 class="hw-location">' + o.location.city + "</h2>" : '<h2 class="hw-location" style="font-size:18px;margin-top:6%">' + o.location.country + "," + o.location.city + "," + o.location.region + "</h2>", d += "</div>", this.display(d) }, generate_style6: function (s) { a = this.responseData, o = a.query.results.channel, r = '<div class="weather-forecast oneday"><div class="hw-weatherIcon"><div class="hw-weatherIcon-front"><div class="hw-icon hw-icon' + p[o.item.forecast[0].code] + '"></div></div></div><div class="hw-temperature-section"><p class="hw-temperature">' + o.item.condition.temp + '<sup>°</sup></p></div><div class="hw-info-section"><p class="hw-weatherType">' + o.item.condition.text + '</p><div class="hw-location-section">', r += this.config.displayCityNameOnly ? '<h2 class="hw-location">' + o.location.city + "</h2>" : '<h2 class="hw-location" style="font-size:18px;position:relative;top:23%">' + o.location.country + "," + o.location.city + "," + o.location.region + "</h2>", r += '</div><p class="hw-date">' + o.item.forecast[0].day + "</p></div>", this.display(r) }, send_request: function () { i = this, e.ajax({ type: "GET", url: i.plugin_url, data: "", success: function (s) { i.responseData = s, i.generate() }, error: function (s) { i.display('<div class="error-messages"><h2>Internal error</h2></div>') }, dataType: "json" }) } }, w.defaults = w.prototype.defaults, e.fn.hwPlugin = function (s) { return this.get = function () { }, this.each(function () { new w(this, s).init() }) }, s.hwPlugin = w }(window, jQuery);